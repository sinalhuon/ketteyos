module.exports=[49310,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(5050);let f=(0,e.createServerReference)("60ec40f64769b398f20bbc6185250693945c16b9f2",e.callServer,void 0,e.findSourceMapURL,"updateEvent"),g=(0,e.createServerReference)("4069b0e6d9b5a66c1783cd700553e02c483a28757d",e.callServer,void 0,e.findSourceMapURL,"uploadFile"),h=(0,e.createServerReference)("701d40b024e579a0d8d5ad87c41f1fa30842509f46",e.callServer,void 0,e.findSourceMapURL,"addAlbumPhoto"),i=(0,e.createServerReference)("40e2dd1298b25f0a906c769f457eb1e011ac1ad87b",e.callServer,void 0,e.findSourceMapURL,"deleteAlbumPhoto");var j=a.i(85300),k=a.i(96221),l=a.i(70106);let m=(0,l.default)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);var n=a.i(38632),o=a.i(14548),p=a.i(41675);let q=(0,l.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),r=(0,l.default)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);var s=a.i(73320),t=a.i(33508);let u=(0,l.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),v=(0,l.default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),w=(0,l.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),x=(0,l.default)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);var y=a.i(94695),z=a.i(71987);let A=(0,e.createServerReference)("706ccd924b9d5851528cce1a82fe886473acd60439",e.callServer,void 0,e.findSourceMapURL,"addGuest"),B=(0,e.createServerReference)("600305cacccb6dadec5ba04c3c23834c91a7b3a339",e.callServer,void 0,e.findSourceMapURL,"deleteGuest"),C=(0,l.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var D=a.i(81560);let E=(0,l.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),F=(0,l.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),G=(0,l.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),H=(0,l.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),I=(0,l.default)("file-down",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);function J({eventId:a,eventSlug:e,guests:f}){let g=(0,d.useRouter)(),[h,i]=(0,c.useState)(""),[j,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),v=async b=>{b.preventDefault(),h.trim()&&(n(!0),(await A(a,h,j)).success?(i(""),l(""),g.refresh()):alert("Failed to add guest"),n(!1))},w=async b=>{confirm("Are you sure you want to delete this guest?")&&(await B(b,a),g.refresh())},x=async b=>{let c=b.target.files?.[0];if(!c)return;r(!0);let d=new FormData;d.append("file",c);try{let b=await fetch(`/api/events/${a}/guests/import`,{method:"POST",body:d}),c=await b.json();b.ok?(alert(`${c.message}${c.errors?"\n\nErrors:\n"+c.errors.join("\n"):""}`),g.refresh()):alert(c.error||"Failed to import guests")}catch(a){alert("Failed to import guests")}finally{r(!1),b.target.value=""}},y=async()=>{u(!0);try{let b=await fetch(`/api/events/${a}/guests/export`);if(b.ok){let c=await b.blob(),d=window.URL.createObjectURL(c),f=document.createElement("a");f.href=d,f.download=`guests-${e||a}.csv`,document.body.appendChild(f),f.click(),window.URL.revokeObjectURL(d),document.body.removeChild(f)}else alert("Failed to export guests")}catch(a){alert("Failed to export guests")}finally{u(!1)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("form",{onSubmit:v,className:"bg-gray-50 dark:bg-[#1a1a1a] p-4 rounded-xl border border-gray-100 dark:border-[#222]",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"Add Guest"}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("input",{value:h,onChange:a=>i(a.target.value),placeholder:"Guest Name (e.g. Bong Tola)",className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#222] px-4 py-2 text-sm focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(G,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),(0,b.jsx)("input",{value:j,onChange:a=>l(a.target.value),placeholder:"Telegram Phone (e.g. 012345678)",className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#222] pl-10 pr-4 py-2 text-sm focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]})}),(0,b.jsxs)("button",{type:"submit",disabled:m||!h,className:"bg-yellow-500 text-white px-6 py-2 rounded-lg font-bold text-sm hover:bg-yellow-600 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[m?(0,b.jsx)(k.Loader2,{className:"animate-spin",size:18}):(0,b.jsx)(C,{size:18}),"Add"]})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-[#111] border border-gray-200 dark:border-[#222] rounded-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[(0,b.jsxs)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["Guest List (",f.length,")"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>{window.open("/api/guests/template","_blank")},className:"px-3 py-1.5 text-xs font-medium text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors flex items-center gap-1.5",children:[(0,b.jsx)(I,{size:14}),"Template"]}),(0,b.jsxs)("label",{className:"px-3 py-1.5 text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors flex items-center gap-1.5 cursor-pointer",children:[(0,b.jsx)(s.Upload,{size:14}),q?"Importing...":"Import",(0,b.jsx)("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:x,disabled:q,className:"hidden"})]}),(0,b.jsxs)("button",{onClick:y,disabled:t||0===f.length,className:"px-3 py-1.5 text-xs font-medium text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30 rounded-lg transition-colors flex items-center gap-1.5 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(H,{size:14}),t?"Exporting...":"Export"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-12 gap-4 p-4 bg-gray-50 dark:bg-[#1a1a1a] border-b border-gray-200 dark:border-[#222] text-xs font-bold text-gray-500 uppercase tracking-wider",children:[(0,b.jsx)("div",{className:"col-span-4",children:"Name"}),(0,b.jsx)("div",{className:"col-span-3",children:"Phone"}),(0,b.jsx)("div",{className:"col-span-5 text-right",children:"Actions"})]}),(0,b.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-gray-800",children:0===f.length?(0,b.jsx)("div",{className:"p-8 text-center text-gray-500 text-sm",children:"No guests added yet."}):f.map(a=>(0,b.jsxs)("div",{className:"grid grid-cols-12 gap-4 p-4 items-center hover:bg-gray-50 dark:hover:bg-[#1a1a1a] transition-colors",children:[(0,b.jsx)("div",{className:"col-span-4 font-medium text-gray-900 dark:text-white truncate",children:a.name}),(0,b.jsx)("div",{className:"col-span-3 text-gray-500 text-sm truncate",children:a.phoneNumber||"-"}),(0,b.jsxs)("div",{className:"col-span-5 flex justify-end gap-2",children:[(0,b.jsxs)("button",{onClick:()=>{var b,c;let d;return b=a.token,c=a.shortCode,void(d=e&&c?`${window.location.origin}/invite/${e}/${c}`:`${window.location.origin}/invite/${b}`,navigator.clipboard.writeText(d),p(b),setTimeout(()=>p(null),2e3))},className:"p-2 text-gray-400 hover:text-blue-500 bg-gray-100 dark:bg-[#222] hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors relative group",title:"Copy Link",children:[o===a.token?(0,b.jsx)("span",{className:"text-green-500 text-xs font-bold absolute -top-8 left-1/2 -translate-x-1/2 bg-white dark:bg-black px-2 py-1 shadow-lg rounded",children:"Copied!"}):null,(0,b.jsx)(E,{size:16})]}),a.phoneNumber&&(0,b.jsxs)("button",{onClick:()=>(a=>{let b;if(!a.phoneNumber)return void alert("No phone number for this guest.");let c=a.phoneNumber.replace(/\s+/g,"").replace(/-/g,"");c.startsWith("+")||(c=c.startsWith("0")?"+855"+c.substring(1):"+"+c),b=e&&a.shortCode?`${window.location.origin}/invite/${e}/${a.shortCode}`:`${window.location.origin}/invite/${a.token}`;let d=encodeURIComponent(`សួស្ដី ${a.name}!
សូមគោរពអញ្ជើញចូលរួមកម្មវិធីអាពាហ៍ពិពាហ៍របស់យើង។
ចុចទីនេះដើម្បីបើកធៀបការអញ្ជើញ: ${b}`),f=`https://t.me/${c}?text=${d}`;window.open(f,"_blank")})(a),className:"px-3 py-1.5 text-xs font-medium text-blue-500 bg-blue-50 dark:bg-blue-900/10 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors flex items-center gap-1.5",children:[(0,b.jsx)(F,{size:14}),"Telegram"]}),(0,b.jsx)("button",{onClick:()=>w(a.id),className:"p-2 text-gray-400 hover:text-red-500 bg-gray-100 dark:bg-[#222] hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:(0,b.jsx)(D.Trash2,{size:16})})]})]},a.id))})]})]})}function K({event:a,templates:e,globalMusic:l,guests:A}){let B=(0,d.useRouter)(),[C,D]=(0,c.useState)("details"),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(!1),[I,K]=(0,c.useState)({title:a.title,date:a.date?new Date(a.date).toISOString().slice(0,16):"",location:a.location||"",eventType:a.eventType||"wedding",logoUrl:a.logoUrl||"",logoSize:a.logoSize||150,musicUrl:a.musicUrl||"",templateId:a.templateId||e[0]?.id||"",groomFatherName:a.groomFatherName||"",groomMotherName:a.groomMotherName||"",brideFatherName:a.brideFatherName||"",brideMotherName:a.brideMotherName||"",groomFirstName:a.groomFirstName||"",groomLastName:a.groomLastName||"",brideFirstName:a.brideFirstName||"",brideLastName:a.brideLastName||"",invitationMessage:a.invitationMessage||"",eventTime:a.eventTime||"",venueDetails:a.venueDetails||"",mapUrl:a.mapUrl||"",schedule:a.schedule||""}),[L,M]=(0,c.useState)(()=>{try{if(!a.schedule)return[];let b=JSON.parse(a.schedule);if(Array.isArray(b)&&b.length>0&&!b[0].activities){let a=b.reduce((a,b)=>{let c=b.date||"";return a[c]||(a[c]={date:c,activities:[]}),a[c].activities.push({time:b.time,activity:b.activity}),a},{});return Object.values(a)}return Array.isArray(b)?b:[]}catch{return[]}}),N=a=>{M(a),K(b=>({...b,schedule:JSON.stringify(a)}))},O=()=>{N([...L,{date:I.date?I.date.split("T")[0]:"",activities:[{time:"",activity:""}]}])},P=(a,b,c,d)=>{let e=[...L];e[a].activities[b]={...e[a].activities[b],[c]:d},N(e)},Q=a=>{let{name:b,value:c}=a.target;K(a=>({...a,[b]:c}))},R=async(a,b)=>{let c=a.target.files?.[0];if(!c)return;F(!0);let d=new FormData;d.append("file",c),d.append("folder","music"===b?"music":"covers");let e=await g(d);e.success?(K(a=>({...a,["music"===b?"musicUrl":"logoUrl"]:e.url})),alert("File uploaded successfully!")):alert("Upload failed"),F(!1)},S=async b=>{let c=b.target.files;if(c&&0!==c.length){H(!0);for(let b=0;b<c.length;b++){let d=c[b],e=new FormData;e.append("file",d),e.append("folder","album");let f=await g(e);f.success&&await h(a.id,f.url,a.albumPhotos?.length||0)}H(!1),B.refresh()}},T=async a=>{confirm("Delete this photo?")&&(F(!0),await i(a),F(!1),B.refresh())},U=async()=>{F(!0);let b=await f(a.id,I);b.success?(alert("Changes saved successfully!"),B.refresh()):alert(`Failed to save changes: ${b.error}`),F(!1)};return(0,b.jsxs)("div",{className:"bg-white dark:bg-[#111] rounded-2xl shadow-xl border border-gray-200 dark:border-[#222] overflow-hidden min-h-[600px] flex flex-col",children:[(0,b.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-[#222]",children:[(0,b.jsx)("button",{onClick:()=>D("details"),className:`px-8 py-4 font-bold text-sm transition-colors ${"details"===C?"border-b-2 border-yellow-500 text-yellow-600 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/10":"text-gray-500 hover:text-gray-900 dark:hover:text-gray-300"}`,children:"Event Details"}),(0,b.jsx)("button",{onClick:()=>D("design"),className:`px-8 py-4 font-bold text-sm transition-colors ${"design"===C?"border-b-2 border-yellow-500 text-yellow-600 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/10":"text-gray-500 hover:text-gray-900 dark:hover:text-gray-300"}`,children:"Design & Customization"}),(0,b.jsx)("button",{onClick:()=>D("guests"),className:`px-8 py-4 font-bold text-sm transition-colors ${"guests"===C?"border-b-2 border-yellow-500 text-yellow-600 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/10":"text-gray-500 hover:text-gray-900 dark:hover:text-gray-300"}`,children:"Guests"})]}),(0,b.jsxs)("div",{className:"p-8 flex-1 overflow-y-auto",children:["details"===C&&(0,b.jsxs)("div",{className:"space-y-8 max-w-3xl",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Basic Information"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(r,{size:16})," Event Title"]}),(0,b.jsx)("input",{name:"title",value:I.title,onChange:Q,className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(r,{size:16})," Event Type"]}),(0,b.jsx)("select",{name:"eventType",value:I.eventType,onChange:Q,className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white",children:(0,j.getAllEventTypes)().map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(p.Calendar,{size:16})," Date & Time"]}),(0,b.jsx)("input",{type:"datetime-local",name:"date",value:I.date,onChange:Q,className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[(0,b.jsx)(q,{size:16})," Location"]}),(0,b.jsx)("input",{name:"location",value:I.location,onChange:Q,className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]})]}),(0,b.jsxs)("div",{className:"space-y-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,b.jsx)(u,{size:20})," Parents' Names"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Groom's Parents"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Father's Name"}),(0,b.jsx)("input",{name:"groomFatherName",value:I.groomFatherName,onChange:Q,placeholder:"លោក តាំង សារ៉ាវុធ",className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Mother's Name"}),(0,b.jsx)("input",{name:"groomMotherName",value:I.groomMotherName,onChange:Q,placeholder:"លោកស្រី លី គីមហេង",className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Bride's Parents"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Father's Name"}),(0,b.jsx)("input",{name:"brideFatherName",value:I.brideFatherName,onChange:Q,placeholder:"លោក ណាល់ សុខហ៊ាង",className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Mother's Name"}),(0,b.jsx)("input",{name:"brideMotherName",value:I.brideMotherName,onChange:Q,placeholder:"លោកស្រី កែវ ស្រីម៉ុច",className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Couple Names (Khmer)"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Groom"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"First Name"}),(0,b.jsx)("input",{name:"groomFirstName",value:I.groomFirstName,onChange:Q,placeholder:"ស៊ីមន្ដថា",className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Last Name"}),(0,b.jsx)("input",{name:"groomLastName",value:I.groomLastName,onChange:Q,placeholder:"តាំង",className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Bride"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"First Name"}),(0,b.jsx)("input",{name:"brideFirstName",value:I.brideFirstName,onChange:Q,placeholder:"សុវណ្ណឌី",className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Last Name"}),(0,b.jsx)("input",{name:"brideLastName",value:I.brideLastName,onChange:Q,placeholder:"ណាល់",className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,b.jsx)(v,{size:20})," Invitation Message"]}),(0,b.jsx)("textarea",{name:"invitationMessage",value:I.invitationMessage,onChange:Q,rows:8,placeholder:"សូមគោរពអញ្ជើញ សម្តេច ទ្រង់ ឯកឧត្តម អ្នកឧកញ៉ា...",className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,b.jsx)(x,{size:20})," Venue Details"]}),(0,b.jsx)("textarea",{name:"venueDetails",value:I.venueDetails,onChange:Q,rows:4,placeholder:"ភូមិផ្អាវ ឃុំផ្អាវ ស្រុកបាធាយ ខេត្តកំពង់ចាម...",className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Map URL (Google Maps link)"}),(0,b.jsx)("input",{name:"mapUrl",value:I.mapUrl,onChange:Q,placeholder:"https://maps.google.com/...",className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-4 py-3 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,b.jsx)(w,{size:20})," Event Schedule"]}),(0,b.jsx)("button",{onClick:O,className:"text-xs bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border border-yellow-500/20 px-3 py-1.5 rounded-lg hover:bg-yellow-500/20 transition-all font-bold",children:"+ Add Day"})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[L.map((a,c)=>(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-black/20 p-5 rounded-2xl border border-gray-200 dark:border-gray-800 space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center pb-4 border-b border-gray-200 dark:border-gray-800",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-yellow-500 text-white flex items-center justify-center text-sm font-bold shadow-lg",children:c+1}),(0,b.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,b.jsx)("span",{className:"text-[10px] uppercase tracking-widest font-bold text-gray-500 mb-1",children:"Event Date"}),(0,b.jsx)("input",{type:"date",value:a.date||"",onChange:a=>{var b;let d;return b=a.target.value,void((d=[...L])[c]={...d[c],date:b},N(d))},className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#1a1a1a] px-3 py-1.5 text-sm font-bold text-gray-900 dark:text-white focus:ring-2 focus:ring-yellow-500 outline-none transition"})]})]}),(0,b.jsx)("button",{onClick:()=>{N(L.filter((a,b)=>b!==c))},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-500/10 rounded-lg transition-colors",children:(0,b.jsx)(t.X,{size:18})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[a.activities.map((a,d)=>(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[(0,b.jsxs)("div",{className:"md:col-span-1",children:[(0,b.jsx)("label",{className:"block text-[10px] uppercase tracking-wider font-bold text-gray-400 mb-1",children:"Time"}),(0,b.jsx)("input",{type:"time",value:a.time,onChange:a=>P(c,d,"time",a.target.value),className:"w-full rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-[#1a1a1a] px-3 py-2 text-xs focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"})]}),(0,b.jsxs)("div",{className:"md:col-span-3",children:[(0,b.jsx)("label",{className:"block text-[10px] uppercase tracking-wider font-bold text-gray-400 mb-1",children:"Activity Description"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{value:a.activity,onChange:a=>P(c,d,"activity",a.target.value),placeholder:"ពិធីហែរជំនូន...",className:"w-full rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-[#1a1a1a] px-3 py-2 text-xs focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white"}),(0,b.jsx)("button",{onClick:()=>{let a;(a=[...L])[c].activities=a[c].activities.filter((a,b)=>b!==d),N(a)},className:"p-2 text-gray-400 hover:text-red-500 rounded-lg transition-colors",children:(0,b.jsx)(t.X,{size:16})})]})]})]},d)),(0,b.jsx)("button",{onClick:()=>{let a;(a=[...L])[c].activities=[...a[c].activities,{time:"",activity:""}],N(a)},className:"w-full py-2 mt-2 border-2 border-dashed border-gray-200 dark:border-gray-800 rounded-xl text-[10px] font-bold text-gray-500 hover:border-yellow-500/50 hover:text-yellow-600 transition-all uppercase tracking-widest",children:"+ Add Activity for this day"})]})]},c)),0===L.length&&(0,b.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 dark:border-gray-800 rounded-2xl",children:[(0,b.jsx)(w,{className:"mx-auto text-gray-300 mb-3",size:40}),(0,b.jsx)("p",{className:"text-gray-500 text-sm mb-4 font-medium",children:"No schedule days added yet."}),(0,b.jsx)("button",{onClick:O,className:"bg-yellow-500 text-white px-6 py-2 rounded-xl font-bold text-sm hover:bg-yellow-600 transition-all shadow-lg shadow-yellow-500/20",children:"Add First Day"})]})]})]})]}),"design"===C&&(0,b.jsxs)("div",{className:"space-y-8 max-w-4xl",children:[(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-[#1a1a1a] p-6 rounded-xl border border-gray-100 dark:border-[#222]",children:[(0,b.jsxs)("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(y.LayoutTemplate,{size:18})," Choose Template"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(a=>{let c=I.templateId===a.codeKey||I.templateId===a.id;return(0,b.jsxs)("div",{onClick:()=>K(b=>({...b,templateId:a.codeKey})),className:`
                                                relative group cursor-pointer rounded-xl border-2 overflow-hidden transition-all duration-300
                                                ${c?"border-yellow-500 shadow-lg scale-[1.02]":"border-gray-200 dark:border-[#333] hover:border-yellow-300 dark:hover:border-yellow-900"}
                                            `,children:[(0,b.jsxs)("div",{className:"aspect-video bg-gray-200 dark:bg-[#111] relative",children:[a.previewUrl?(0,b.jsx)(z.default,{src:a.previewUrl,alt:a.name,fill:!0,className:"object-cover"}):(0,b.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:(0,b.jsx)(y.LayoutTemplate,{size:32})}),c&&(0,b.jsx)("div",{className:"absolute inset-0 bg-yellow-500/20 flex items-center justify-center backdrop-blur-[2px]",children:(0,b.jsx)("div",{className:"bg-white dark:bg-black text-yellow-600 dark:text-yellow-500 px-3 py-1 rounded-full text-xs font-bold shadow-sm",children:"Active"})})]}),(0,b.jsxs)("div",{className:`p-4 ${c?"bg-yellow-50 dark:bg-yellow-900/10":"bg-white dark:bg-[#222]"}`,children:[(0,b.jsx)("h4",{className:`font-bold text-sm mb-1 ${c?"text-yellow-700 dark:text-yellow-500":"text-gray-900 dark:text-white"}`,children:a.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2",children:a.description||"No description"})]})]},a.id)})})]}),(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-[#1a1a1a] p-6 rounded-xl border border-gray-100 dark:border-[#222]",children:[(0,b.jsxs)("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(n.Image,{size:18})," Album Photos"]}),a.albumPhotos&&a.albumPhotos.length>0&&(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:a.albumPhotos.map(a=>(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("div",{className:"relative h-32 w-full rounded-lg overflow-hidden border border-gray-200 dark:border-[#333]",children:(0,b.jsx)(z.default,{src:a.imageUrl,alt:"Album",fill:!0,className:"object-cover"})}),(0,b.jsx)("button",{onClick:()=>T(a.id),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition",children:(0,b.jsx)(t.X,{size:16})})]},a.id))}),(0,b.jsxs)("label",{className:"flex items-center justify-center w-full px-4 py-3 bg-white dark:bg-[#222] border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-[#333] transition",children:[G?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Loader2,{size:18,className:"mr-2 animate-spin text-gray-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Uploading..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.Upload,{size:18,className:"mr-2 text-gray-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Upload Album Photos (Multiple)"})]}),(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",multiple:!0,onChange:S,disabled:G})]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-[#1a1a1a] p-6 rounded-xl border border-gray-100 dark:border-[#222]",children:[(0,b.jsxs)("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(n.Image,{size:18})," Wedding Logo"]}),I.logoUrl&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"relative rounded-lg overflow-hidden mb-4 border border-gray-200 dark:border-[#333] mx-auto flex items-center justify-center bg-gray-100 dark:bg-black/40",children:(0,b.jsx)("div",{style:{width:`${I.logoSize}px`,height:`${I.logoSize}px`,position:"relative"},children:(0,b.jsx)(z.default,{src:I.logoUrl,alt:"Logo",fill:!0,className:"object-contain"})})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Logo Size: ",I.logoSize,"px"]}),(0,b.jsx)("input",{type:"range",name:"logoSize",min:"50",max:"500",value:I.logoSize,onChange:Q,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 accent-yellow-500"})]})]}),(0,b.jsxs)("label",{className:"flex items-center justify-center w-full px-4 py-3 bg-white dark:bg-[#222] border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-[#333] transition mt-4",children:[(0,b.jsx)(s.Upload,{size:18,className:"mr-2 text-gray-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Upload Logo"}),(0,b.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:a=>R(a,"logo")})]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 dark:bg-[#1a1a1a] p-6 rounded-xl border border-gray-100 dark:border-[#222]",children:[(0,b.jsxs)("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(m,{size:18})," Background Music"]}),I.musicUrl&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"✓ Music uploaded"})}),l.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("select",{name:"musicUrl",value:I.musicUrl,onChange:Q,className:"w-full rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-[#222] px-4 py-3 mb-4 focus:ring-2 focus:ring-yellow-500 outline-none transition text-gray-900 dark:text-white",children:[(0,b.jsx)("option",{value:"",children:"Select from library"}),l.map(a=>(0,b.jsx)("option",{value:a.url,children:a.name},a.id))]}),(0,b.jsx)("p",{className:"text-center text-sm text-gray-500 mb-4",children:"- OR -"})]}),(0,b.jsxs)("label",{className:"flex items-center justify-center w-full px-4 py-3 bg-white dark:bg-[#222] border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-[#333] transition",children:[(0,b.jsx)(s.Upload,{size:18,className:"mr-2 text-gray-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Upload Your Own Music"}),(0,b.jsx)("input",{type:"file",className:"hidden",accept:"audio/*",onChange:a=>R(a,"music")})]})]})]}),"guests"===C&&(0,b.jsx)(J,{eventId:a.id,eventSlug:a.slug,guests:A})]}),(0,b.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-[#222] bg-gray-50 dark:bg-[#0a0a0a]",children:(0,b.jsx)("button",{onClick:U,disabled:E,className:"w-full bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:E?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Loader2,{className:"animate-spin",size:20}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Save,{size:20}),"Save Changes"]})})})]})}a.s(["EventEditor",()=>K],49310)}];

//# sourceMappingURL=src_app_dashboard_events_%5Bid%5D_client-editor_tsx_b06b0d0b._.js.map