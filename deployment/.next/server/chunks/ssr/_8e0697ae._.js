module.exports=[14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},73320,a=>{"use strict";let b=(0,a.i(70106).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);a.s(["Upload",()=>b],73320)},38632,a=>{"use strict";let b=(0,a.i(70106).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["Image",()=>b],38632)},87487,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(73320),e=a.i(33508);function f({currentLogo:a,onUploadSuccess:f,onRemoveSuccess:g}){let[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(!1),l=async a=>{if(a){if(!["image/jpeg","image/jpg","image/png","image/webp","image/svg+xml"].includes(a.type))return void alert("Invalid file type. Please upload JPG, PNG, SVG, or WebP.");if(a.size>2097152)return void alert("File too large. Maximum size is 2MB.");i(!0);try{let b=new FormData;b.append("file",a);let c=await fetch("/api/settings/logo",{method:"POST",body:b}),d=await c.json();if(!c.ok)throw Error(d.error||"Upload failed");f(d.logoUrl),alert("Logo uploaded successfully!")}catch(a){console.error("Upload error:",a),alert(a instanceof Error?a.message:"Failed to upload logo")}finally{i(!1)}}},m=async()=>{if(confirm("Are you sure you want to remove the logo?")){i(!0);try{let a=await fetch("/api/settings/logo",{method:"DELETE"}),b=await a.json();if(!a.ok)throw Error(b.error||"Failed to remove logo");g(),alert("Logo removed successfully!")}catch(a){console.error("Remove error:",a),alert(a instanceof Error?a.message:"Failed to remove logo")}finally{i(!1)}}},n=a=>{a.preventDefault(),a.stopPropagation(),"dragenter"===a.type||"dragover"===a.type?k(!0):"dragleave"===a.type&&k(!1)};return(0,b.jsxs)("div",{className:"space-y-4",children:[a&&(0,b.jsxs)("div",{className:"relative w-32 h-32 mx-auto",children:[(0,b.jsx)("img",{src:a,alt:"App Logo",className:"w-full h-full object-cover rounded-lg border-2 border-gray-300 dark:border-gray-700"}),(0,b.jsx)("button",{onClick:m,disabled:h,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition disabled:opacity-50",children:(0,b.jsx)(e.X,{size:16})})]}),(0,b.jsxs)("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition ${j?"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/10":"border-gray-300 dark:border-gray-700"} ${h?"opacity-50 pointer-events-none":""}`,onDragEnter:n,onDragLeave:n,onDragOver:n,onDrop:a=>{a.preventDefault(),a.stopPropagation(),k(!1),a.dataTransfer.files&&a.dataTransfer.files[0]&&l(a.dataTransfer.files[0])},children:[(0,b.jsx)("input",{type:"file",id:"logo-upload",className:"hidden",accept:"image/jpeg,image/jpg,image/png,image/webp,image/svg+xml",onChange:a=>{a.target.files&&a.target.files[0]&&l(a.target.files[0])},disabled:h}),(0,b.jsx)("label",{htmlFor:"logo-upload",className:"cursor-pointer",children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)(d.Upload,{size:32,className:"text-gray-400"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Drag & drop or ",(0,b.jsx)("span",{className:"text-yellow-600 hover:text-yellow-700",children:"browse"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"JPG, PNG or WebP (max 5MB)"})]})})]}),h&&(0,b.jsx)("div",{className:"text-center text-sm text-gray-500",children:"Uploading..."})]})}var g=a.i(70106);let h=(0,g.default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);var i=a.i(38632),j=a.i(14548);let k=(0,g.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var l=a.i(50944);function m(){let a=(0,l.useRouter)(),[d,e]=(0,c.useState)(!0),[g,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)("");(0,c.useEffect)(()=>{r()},[]);let r=async()=>{try{let b=await fetch("/api/settings"),c=await b.json();b.ok?(o(c.settings),q(c.settings.appName||"KETTEKYUOS")):403===b.status&&(alert("Access denied: Super admin only"),a.push("/admin/dashboard"))}catch(a){console.error("Failed to fetch settings:",a)}finally{e(!1)}},s=async a=>{a.preventDefault(),m(!0);try{let a=await fetch("/api/settings",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({appName:p})}),b=await a.json();if(!a.ok)throw Error(b.error||"Failed to update settings");alert("Settings updated successfully! Refresh the page to see changes."),o(b.settings)}catch(a){console.error("Update error:",a),alert(a instanceof Error?a.message:"Failed to update settings")}finally{m(!1)}};return d?(0,b.jsx)("div",{className:"p-8 flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-gray-500",children:"Loading..."})}):(0,b.jsxs)("div",{className:"p-8 max-w-4xl mx-auto",children:[(0,b.jsxs)("header",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"App Settings"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Configure your application branding and settings"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-1",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-[#111] rounded-2xl shadow-sm border border-gray-200 dark:border-[#222] p-6",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(i.Image,{size:20}),"App Logo"]}),(0,b.jsx)(f,{currentLogo:n?.appLogo,onUploadSuccess:a=>o({...n,appLogo:a}),onRemoveSuccess:()=>o({...n,appLogo:null})}),(0,b.jsx)("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/10 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,b.jsxs)("p",{className:"text-xs text-blue-700 dark:text-blue-300 flex items-start gap-2",children:[(0,b.jsx)(k,{size:14,className:"mt-0.5 flex-shrink-0"}),(0,b.jsx)("span",{children:"Recommended size: 200x200px. Supports JPG, PNG, SVG, WebP (max 2MB)"})]})})]}),n?.updatedAt&&(0,b.jsxs)("div",{className:"bg-white dark:bg-[#111] rounded-2xl shadow-sm border border-gray-200 dark:border-[#222] p-6 mt-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Last Updated"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(n.updatedAt).toLocaleString()})]})]}),(0,b.jsxs)("div",{className:"lg:col-span-2",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-[#111] rounded-2xl shadow-sm border border-gray-200 dark:border-[#222] p-6",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(h,{size:20}),"App Information"]}),(0,b.jsxs)("form",{onSubmit:s,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Application Name"}),(0,b.jsx)("input",{type:"text",value:p,onChange:a=>q(a.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-[#0a0a0a] text-gray-900 dark:text-white focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"KETTEKYUOS",maxLength:50,required:!0}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"This name will appear in the admin portal sidebar and throughout the application."})]}),(0,b.jsxs)("button",{type:"submit",disabled:g,className:"w-full bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg font-medium transition disabled:opacity-50 flex items-center justify-center gap-2",children:[(0,b.jsx)(j.Save,{size:18}),g?"Saving...":"Save Changes"]})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-[#111] rounded-2xl shadow-sm border border-gray-200 dark:border-[#222] p-6 mt-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Preview"}),(0,b.jsx)("div",{className:"bg-gray-50 dark:bg-[#0a0a0a] rounded-lg p-4 border border-gray-200 dark:border-[#222]",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[n?.appLogo?(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg overflow-hidden border-2 border-gray-300 dark:border-gray-700",children:(0,b.jsx)("img",{src:n.appLogo,alt:"App Logo",className:"w-full h-full object-cover"})}):(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg flex items-center justify-center shadow-lg shadow-yellow-500/20 text-white",children:(0,b.jsx)(h,{size:20})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold tracking-wide text-gray-900 dark:text-white",children:p||"KETTEKYUOS"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-widest",children:"Admin Portal"})]})]})})]})]})]})]})}a.s(["default",()=>m],87487)}];

//# sourceMappingURL=_8e0697ae._.js.map